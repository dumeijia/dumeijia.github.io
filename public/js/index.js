const json = {
    "total": 54,
    "list": [
        {
            "goodsId":"6473838758121701376",
            "name":"气垫抗疲劳中性笔",
            "describe":"写作业必备舒适好笔",
            "price":190,
            "marketPrice":190,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/a65b29de-3805-4cde-9277-13757e8e3795.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/cad6c062-6668-43f7-8446-221c7f37dcfc.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":119794,
            "saleNum":44970,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6392563375477358592",
            "name":"栗·中性笔",
            "describe":"热销万支 好笔用实力说话",
            "price":790,
            "marketPrice":790,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/e0fbf111-cd51-4588-af9e-901dfd185034.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/2d7d5b6d-a175-43da-9d23-af91f6cb314f.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":"",
            "displayType":0,
            "stock":23139,
            "saleNum":38491,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6537569417176285184",
            "name":"BINGO!考试必过走珠笔",
            "describe":"速干直液式 畅写2000米",
            "price":290,
            "marketPrice":290,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/7f6351a1-acfa-4566-a38d-7f3fb177cb9a.png@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/d29c14a6-878d-4fae-818c-aec9dd75deeb.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":40260,
            "saleNum":0,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6392700281443844096",
            "name":"草稿本A5",
            "describe":"开启草稿本升级计划",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/bc20d371-70d1-4ce9-9c6e-ea10515f45a5.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/7515d691-31de-4697-ad82-70e277dced88.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"",
            "promotionMark":null,
            "displayType":0,
            "stock":11460,
            "saleNum":35151,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6402715742592040960",
            "name":"「1+1」创意便利贴",
            "describe":"记下点滴平凡 留住美好时光",
            "price":590,
            "marketPrice":590,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/72c3a7fe-527d-44da-a6ce-d2d13912d38e.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/d29540ef-1ce1-411a-933f-54d7baa33b72.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":8047,
            "saleNum":28327,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6512516043519295488",
            "name":"中考热搜题",
            "describe":"4亿用户都在搜的典型好题！",
            "price":2900,
            "marketPrice":3900,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/29c2568e-0f1b-4987-ac2a-057253442d13.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/a6260d37-4cf6-4842-a7af-cd652b50426e.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":13164,
            "saleNum":27030,
            "previewTitle":"样书试读",
            "previewLink":"https://www.zybang.com/mall/chestnut/previewList.html?groupId=348483840748896257&from=mall"
        },
        {
            "goodsId":"6418053219125035008",
            "name":"栗·中性笔替芯",
            "describe":"流畅顺滑至最后一滴墨",
            "price":690,
            "marketPrice":690,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/399fd5a3-d01f-46e3-8561-31c92417f3c1.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/9b588533-3f73-4a64-b58e-271f86f71bd5.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"",
            "promotionMark":null,
            "displayType":0,
            "stock":34243,
            "saleNum":32679,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6481702671613952000",
            "name":"1秒速干中性笔芯(5支装)",
            "describe":"适配通用版按动式中性笔",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/fcfa1504-ec16-4ce5-b91c-8f7501af28b3.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/06b8748d-e821-4545-8c0e-d5fe3b2ed636.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":21555,
            "saleNum":10026,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6514324180110934016",
            "name":"轻松刷 2020版·高考必考点+题型全刷",
            "describe":"一轮复习就用《轻松刷》！",
            "price":2900,
            "marketPrice":5280,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/e706260a-389d-4651-9f4b-13ca17c37952.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/04488a93-465a-4b72-b351-debdf69d8430.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":23870,
            "saleNum":5464,
            "previewTitle":"样书试读",
            "previewLink":"https://www.zybang.com/mall/chestnut/previewList.html?groupId=348483534052999169&from=mall"
        },
        {
            "goodsId":"6480716534447603712",
            "name":"「超越」笔记升格礼盒 ",
            "describe":"专业的中学生笔记提高方案",
            "price":1890,
            "marketPrice":1990,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/edbbd464-ae28-450b-b1fc-14ec314e7b31.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/7b76858f-3d48-42b2-b3de-f19322cf135b.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":"爆款升级",
            "displayType":0,
            "stock":4237,
            "saleNum":9283,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6392625358557937664",
            "name":"错难题整理本A5",
            "describe":"教你用黄金三分法写错题",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/34a5a09b-e781-4f44-87cb-98c304926abe.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/48c79422-b353-4fc6-a7c1-f34402c6a585.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"",
            "promotionMark":null,
            "displayType":0,
            "stock":9619,
            "saleNum":25038,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6395246913221820416",
            "name":"大栗表情和纸胶带【升级版】",
            "describe":"@所有人 大栗又出新表情啦~",
            "price":390,
            "marketPrice":390,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/26d85e56-3335-40e9-82a4-264bd3c7d67c.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/21414550-ff20-4e7b-abe3-a1e9f32279b0.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"新品",
            "promotionMark":null,
            "displayType":0,
            "stock":7758,
            "saleNum":16049,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6504554626581266432",
            "name":"帮帮机S1/便携式错题打印机",
            "describe":"专注于学习的错题打印机",
            "price":29900,
            "marketPrice":33800,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/10d5e4b3-84e3-4cfb-9d3a-5e05c70b6dff.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/2fb9c7ca-f55a-4223-9b98-5b8f1be7296b.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":1336,
            "saleNum":8688,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6473098690805366784",
            "name":"15M超长修正带",
            "describe":"流畅不断带，平滑易书写",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/2b1fa27d-7b20-4cf1-a9ec-3c174f262286.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/19a32667-ef6e-48d3-9072-ca9fa152c7de.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":10994,
            "saleNum":6730,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6480719032273076224",
            "name":"「超越」笔记本 红黄蓝三色 升级版",
            "describe":"为提高中学生学习效率而生",
            "price":990,
            "marketPrice":990,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/fa816c3a-afbd-4d3b-a265-a6120760525b.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/82813b7f-f922-4d53-9061-937a63944228.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":9029,
            "saleNum":12332,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6478141491716816896",
            "name":"点点胶·点状双面胶带",
            "describe":"粘贴原来如此简单",
            "price":590,
            "marketPrice":590,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/53505839-7214-4acd-93ab-d9f4c3fa7e26.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/08f785a3-2732-4fa9-89ba-70c0bb2b9ccb.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":1905,
            "saleNum":25890,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6387236776548761600",
            "name":"高中速练30天（升级版）",
            "describe":"数理化30天提升计划！",
            "price":2790,
            "marketPrice":3980,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/05899fad-a9c9-46d2-8382-39a830a44e78.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/88f6cc63-172e-411d-8114-e519edd413f6.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"新版",
            "promotionMark":null,
            "displayType":0,
            "stock":6387,
            "saleNum":15665,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6504584036197859328",
            "name":"「大神」草稿本",
            "describe":"从最平凡处诞生伟大",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/c6f4f49a-f984-428b-bf41-b6c449f1fac6.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/dae06b28-3cb5-4841-9bab-ba83065217de.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"热销",
            "promotionMark":null,
            "displayType":0,
            "stock":29768,
            "saleNum":7249,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6506141205108097024",
            "name":"新起点·励志贴纸",
            "describe":"干了这碗励志鸡血~",
            "price":390,
            "marketPrice":390,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/88d4470e-fa4b-43fe-8573-ca80b156d0f4.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/e266c0cc-76b8-4eae-a580-4f2025c49727.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"",
            "promotionMark":"",
            "displayType":0,
            "stock":10866,
            "saleNum":0,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6473099668371800064",
            "name":"5色学习索引贴",
            "describe":"多场景分类索引，提升学习效率",
            "price":390,
            "marketPrice":390,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/d2242249-875a-45fb-8a7b-96d44bc08a45.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/e753e0fe-848d-40e7-859b-d13a584f9498.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":12050,
            "saleNum":4939,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6524902036817838080",
            "name":"清洁力MAX橡皮",
            "describe":"轻松擦除错误笔迹",
            "price":190,
            "marketPrice":190,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/0bfad302-be52-4a4b-84af-2ed428d8e547.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/e129c7b1-d51d-4703-8912-e4c3cdb333bd.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":19096,
            "saleNum":0,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6512238360826740736",
            "name":"高考热搜题",
            "describe":"4亿用户都在搜的典型好题！",
            "price":2900,
            "marketPrice":3900,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/9e0155ee-cdfc-4eb7-a7f9-69430c749ae6.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/d4270728-0eb3-4832-83d1-94c356d4c922.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"爆款",
            "promotionMark":null,
            "displayType":0,
            "stock":4306,
            "saleNum":4705,
            "previewTitle":"样书试读",
            "previewLink":"https://www.zybang.com/mall/chestnut/previewList.html?groupId=348483712151552001&from=mall"
        },
        {
            "goodsId":"6415533094312345600",
            "name":"磨砂双内页线圈本",
            "describe":"横线+点阵 文理科均适用",
            "price":790,
            "marketPrice":1290,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/feb082bf-1013-4cba-8328-72d91052ce77.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/6d574bc5-9fdc-4c47-8a36-3336ec62d4dc.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":21245,
            "saleNum":14242,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6473097439111806976",
            "name":"「大栗の日常」和纸胶带",
            "describe":"全方位了解大栗的Q萌生活",
            "price":390,
            "marketPrice":390,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/a4424c24-d552-450c-a4f2-4b20aeb9b6ea.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/04f67711-6ced-4a74-b8cf-469cbb529c83.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":2782,
            "saleNum":7115,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6410477066675814400",
            "name":"30天计划表",
            "describe":"有计划，更高效",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/fe1f83e4-bd22-4aa7-8487-6cacdb9b68d7.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/d93d598f-bbb2-491c-9373-b56418072004.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":3272,
            "saleNum":9298,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6433278878965301248",
            "name":"自动铅笔0.5mm",
            "describe":"随笔附赠浓黑铅笔芯1盒",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/079d73f2-6d93-40e3-a24a-eefb9862e9b7.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/52630665-d030-4b0c-81e1-8ccc258dcc3c.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":13862,
            "saleNum":8708,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6427789297385996288",
            "name":"水滴回形针(12枚)",
            "describe":"玫瑰金/薄荷绿 致敬生活美学",
            "price":290,
            "marketPrice":290,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/e781042a-44f7-41fa-babb-2d451b18e31b.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/7d414d91-d397-4827-beae-c0cf804d7e05.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":"",
            "promotionMark":null,
            "displayType":0,
            "stock":16135,
            "saleNum":12917,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6378562502489276416",
            "name":"镂空金属长尾夹套装",
            "describe":"资料好分类，学习有条理",
            "price":590,
            "marketPrice":590,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/3be39124-a8ef-4ad9-8c63-ccdcd5dbf0bf.png@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/ef647625-2a43-4d1e-9cdf-53849e378074.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":3198,
            "saleNum":8463,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6405330208395624448",
            "name":"金属小鱼夹",
            "describe":"小巧别致，整理更多学习细节",
            "price":490,
            "marketPrice":490,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/7f603a17-55e9-4b55-bb9f-861958579e82.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/9d2caa02-e7fb-4f48-b20d-cd6a7a9fa458.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":3125,
            "saleNum":8482,
            "previewTitle":null,
            "previewLink":null
        },
        {
            "goodsId":"6402710193582374912",
            "name":"栗跃龙门涂卡笔",
            "describe":"栗跃龙门 逢考必过",
            "price":690,
            "marketPrice":690,
            "adaptionPic":"https://img.zuoyebang.cc/zyb-image/81e56908-201c-4984-a377-d09c940b58a7.jpg@w_560,h_560",
            "rectanglePic":"https://img.zuoyebang.cc/zyb-image/3d4ed8b8-6b6c-40ca-b8f6-1fffc42b9ae1.jpg@w_1152,h_561",
            "goodsStatus":152001,
            "cornerMark":null,
            "promotionMark":null,
            "displayType":0,
            "stock":7402,
            "saleNum":8183,
            "previewTitle":null,
            "previewLink":null
        }
    ]
};
async function fetchGoods() {
//     const res = await fetch('/api/getGoods');
//     const json = await res.json();
//     return json;
    return json.list;
}

async function renderGoods() {
    const arr = await fetchGoods();
    let htmlStr = '';
    arr.forEach(item => {
        htmlStr +=
        `
            <li class="list-item">
                <img src=${item.adaptionPic} />
                <div class="goods-info">
                    <p class="name">${item.name}</p>
                    <p class="desc">${item.describe}</p>
                    <span class="price">¥${item.price}</span>
                </div>
            </li>
        `
    });
    const oCont = document.querySelector('#cont');
    oCont.innerHTML = htmlStr;
}

async function registerSW() {
    window.addEventListener('load', () => {
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('../sw.js')
            .then((registration) => {
                console.log(registration);
            })
            .catch((err) => {
                console.log(err);
            });
        }
    });
}
/*
    如果页面一进来，用户没有联网，给用户一个通知
*/
if (Notification.permission === 'default') {
    Notification.requestPermission();
}
if (!navigator.onLine) {
    // 没网的
    new Notification('提示', {
        body: '你当前没有网络，你访问的是缓存'
    })
}
window.addEventListener('online', () => {
    new Notification('提示', {
        body: '你已经连上网络了，请刷新访问最新的数据'
    });
});
renderGoods();
registerSW();
